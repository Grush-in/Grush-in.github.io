<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
  <title>Grush-in//project — Portfolio</title>
  <link rel="icon" type="image/png" href="images/icon.png" />
  <style>
    /* ---------- Fonts ---------- */
    @font-face { font-family: 'Inter'; font-style: normal; font-weight: 400; src: local('Inter'), local('Inter-Regular'); }
    @font-face { font-family: 'Orbitron'; font-style: normal; font-weight: 600; src: local('Orbitron'), local('Orbitron-SemiBold'); }
    
    /* ---------- Custom Fonts ---------- */
    @font-face {
      font-family: 'Digiface';
      src: url('fonts/Digiface.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }
    
    @font-face {
      font-family: 'Cornerita';
      src: url('fonts/Cornerita.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    /* ---------- CSS Variables ---------- */
    :root{
      --bg:#0d0f14;           /* deep graphite */
      --panel:#141823;        /* panel dark */
      --glass:rgba(255,255,255,0.04);
      --card:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      --text:#e7e7ee;
      --muted:#95a0b3;
      --primary:#a855f7;      /* neon purple */
      --primary-2:#3bb7ff;    /* cyber blue */
      --ok:#18cc8b;
      --danger:#ff5577;
      --shadow:0 10px 30px rgba(0,0,0,.45);
      --radius:18px;
    }

    /* ---------- Base ---------- */
    *{box-sizing:border-box}
    html,body{height:100%}
    
    body{
      margin:0; 
      background: var(--bg) fixed;
      color:var(--text); 
      font-family: 'Cornerita', Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
      overflow-x:hidden;
      position: relative;
    }
    
    /* Cyberpunk ambient background */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(ellipse 800px 400px at 20% 30%, rgba(168,85,247,0.12), transparent 70%),
        radial-gradient(ellipse 600px 600px at 80% 70%, rgba(59,183,255,0.09), transparent 70%),
        radial-gradient(ellipse 700px 350px at 50% 50%, rgba(255,16,240,0.06), transparent 70%);
      pointer-events: none;
      z-index: 0;
      animation: ambientPulse 15s ease-in-out infinite;
      filter: blur(60px);
    }
    
    @keyframes ambientPulse {
      0%, 100% { opacity: 0.6; }
      50% { opacity: 0.8; }
    }
    
    /* Scanlines effect */
    body::after {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(0deg, transparent 0px, rgba(168,85,247,0.03) 1px, transparent 2px);
      pointer-events: none;
      z-index: 0;
      opacity: 0.5;
    }
    
    /* Energy pulse core */
    .signal-pulse {
      position: fixed;
      width: 20px;
      height: 20px;
      pointer-events: none;
      z-index: 1;
      transition: all 0.15s linear;
    }
    
    .signal-pulse::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }
    
    .signal-pulse::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 20px;
      height: 20px;
      border-radius: 50%;
      animation: energyPulse 1s ease-in-out infinite;
    }
    
    @keyframes energyPulse {
      0%, 100% { transform: translate(-50%, -50%) scale(0.8); opacity: 1; }
      50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.6; }
    }
    
    .signal-pulse.purple::before {
      background: radial-gradient(circle, #fff 0%, rgba(168,85,247,1) 30%, rgba(168,85,247,0.9) 60%, transparent 100%);
      box-shadow: 
        0 0 8px 2px rgba(168,85,247,1),
        0 0 15px 4px rgba(168,85,247,0.8),
        0 0 25px 6px rgba(168,85,247,0.6),
        0 0 40px 10px rgba(168,85,247,0.3);
      filter: brightness(1.5);
    }
    
    .signal-pulse.purple::after {
      background: radial-gradient(circle, rgba(168,85,247,0.6) 0%, rgba(168,85,247,0.3) 50%, transparent 100%);
      box-shadow: 0 0 30px 8px rgba(168,85,247,0.4);
    }
    
    .signal-pulse.blue::before {
      background: radial-gradient(circle, #fff 0%, rgba(59,183,255,1) 30%, rgba(59,183,255,0.9) 60%, transparent 100%);
      box-shadow: 
        0 0 8px 2px rgba(59,183,255,1),
        0 0 15px 4px rgba(59,183,255,0.8),
        0 0 25px 6px rgba(59,183,255,0.6),
        0 0 40px 10px rgba(59,183,255,0.3);
      filter: brightness(1.5);
    }
    
    .signal-pulse.blue::after {
      background: radial-gradient(circle, rgba(59,183,255,0.6) 0%, rgba(59,183,255,0.3) 50%, transparent 100%);
      box-shadow: 0 0 30px 8px rgba(59,183,255,0.4);
    }
    
    /* Energy trail */
    .energy-trail {
      position: fixed;
      width: 3px;
      height: 3px;
      border-radius: 50%;
      pointer-events: none;
      z-index: 0;
      opacity: 0;
      animation: trailFade 0.6s ease-out forwards;
    }
    
    @keyframes trailFade {
      0% { opacity: 0.8; transform: scale(1); }
      100% { opacity: 0; transform: scale(0.3); }
    }
    
    .energy-trail.purple {
      background: radial-gradient(circle, rgba(168,85,247,1) 0%, rgba(168,85,247,0.6) 50%, transparent 100%);
      box-shadow: 0 0 8px rgba(168,85,247,0.8);
    }
    
    .energy-trail.blue {
      background: radial-gradient(circle, rgba(59,183,255,1) 0%, rgba(59,183,255,0.6) 50%, transparent 100%);
      box-shadow: 0 0 8px rgba(59,183,255,0.8);
    }
    
    a{color:var(--primary)}
    .container{max-width:1200px;margin:0 auto;padding:32px;position:relative;z-index:2}

    /* ---------- Header ---------- */
    @keyframes slideDown {
      from { transform: translateY(-100%); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    header{
      position:sticky; top:0; z-index:100; padding:2px 10px !important;
      backdrop-filter:saturate(1.3) blur(10px);
      background:linear-gradient(180deg, rgba(20,24,35,.8), rgba(20,24,35,.4));
      border-bottom:1px solid rgba(255,255,255,0.08);
      height: auto !important;
      animation: slideDown 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
      transition: transform 0.3s ease, opacity 0.3s ease;
    }
    
    header.hidden{
      transform: translateY(-100%);
      opacity: 0;
    }
    .nav{display:flex; align-items:center; gap:11px}
    .logo{font-family:'Digiface', Orbitron, Inter, sans-serif; letter-spacing:.06em; font-weight:600; font-size:28px}
    .logo-mark{display:inline-block; width:28px; height:28px; margin-right:12px; vertical-align:middle; filter:drop-shadow(0 0 8px rgba(168,85,247,0.6))}
    .spacer{flex:1}
    .tabs{display:flex; gap:4px}
    .tab-btn{
      border:none; padding:6px 9px; border-radius:6px; cursor:pointer; color:var(--text);
      background:var(--glass); border:1px solid rgba(255,255,255,.06); transition:all .2s ease;
      font-size:28px; font-family:'Cornerita', sans-serif;
    }
    .tab-btn.active, .tab-btn:hover{ background:linear-gradient(180deg, rgba(168,85,247,.18), rgba(255,255,255,.06)); box-shadow:0 0 0 1px rgba(168,85,247,.3), 0 6px 18px rgba(168,85,247,.18)}

    /* ---------- Hero ---------- */
    .hero{ display:grid; grid-template-columns: 1fr; gap:32px; margin-top:26px}
    .hero-main{ display:grid; grid-template-columns: 1fr 1fr; gap:32px; align-items:start; position:relative; grid-template-areas: "header avatar" "content avatar" }
    .hero-header{ grid-area:header }
    .avatar{ grid-area:avatar }
    .hero-content{ grid-area:content; display:flex; flex-direction:column; gap:60px }
    
    /* Scroll Animations */
    .scroll-section{ opacity:0; transform:translateY(60px); transition:all 0.8s cubic-bezier(0.4, 0, 0.2, 1) }
    .scroll-section.visible{ opacity:1; transform:translateY(0) }
    .scroll-section.hidden{ opacity:0; transform:translateY(-40px); transition:all 0.6s ease }
    
    .hero-header{ position:relative; background:transparent; padding:0 0 20px 0; margin:0 }
    
    .hero-title{ font-size:64px; font-weight:700; line-height:1.1; margin:0; font-family:'Digiface', sans-serif }
    .hero-subtitle{ font-size:24px; color:var(--primary-2); margin:8px 0 0 0; font-weight:500; font-family:'Cornerita', sans-serif }
    
    .quote-box{ background:var(--panel); border-left:4px solid var(--primary); padding:20px 24px; border-radius:12px }
    .quote-text{ color:var(--muted); font-style:italic; margin:0; line-height:1.6; font-size:18px }
    
    .section-title-main{ font-size:32px; font-weight:600; margin:0 0 20px 0; display:flex; align-items:center; gap:10px; font-family:'Digiface', sans-serif }
    
    .skill-panel{ padding:24px !important }
    .skill-row{ display:flex; gap:24px; margin-bottom:16px; align-items:flex-start }
    .skill-row:last-child{ margin-bottom:0 }
    .skill-label{ color:var(--primary-2); min-width:200px; font-weight:500; flex-shrink:0; font-size:17px }
    .skill-value{ color:var(--muted); line-height:1.6; font-size:17px }
    
    .edu-title{ font-size:20px; color:var(--text); margin:0 0 6px 0; font-weight:600; font-family:'Digiface', sans-serif }
    .edu-desc{ color:var(--muted); margin:0 0 12px 0; font-size:17px }
    .edu-extra{ color:var(--primary-2); margin:0; font-weight:500; font-size:17px }
    
    .activity-list{ display:flex; flex-direction:column; gap:14px }
    .activity-item{ display:flex; align-items:flex-start; gap:14px; background:var(--panel); padding:18px 20px; border-radius:12px; border-left:4px solid var(--primary) }
    .activity-dot{ width:10px; height:10px; border-radius:50%; background:var(--primary); margin-top:7px; flex-shrink:0; box-shadow:0 0 12px var(--primary) }
    .activity-item p{ margin:0; color:var(--muted); line-height:1.6; font-size:17px }
    
    .interest-topics{ color:var(--primary-2); font-size:20px; margin:0 0 14px 0; font-weight:500 }
    .interest-note{ color:var(--muted); font-style:italic; margin:0; line-height:1.6; font-size:17px }
    
    .software-badges{ display:flex; flex-wrap:wrap; gap:14px }
    .soft-badge{ background:var(--primary); color:white; padding:12px 22px; border-radius:12px; font-weight:500; font-size:16px; transition:all .2s ease; cursor:pointer }
    .soft-badge:hover{ background:var(--primary-2); transform:translateY(-2px); box-shadow:0 6px 20px rgba(168,85,247,.4) }
    
    .hero-grid{ display:grid; grid-template-columns: repeat(2, 1fr); gap:18px }
    .panel{ background:rgba(28,32,43,0.7); backdrop-filter:blur(12px) saturate(1.2); border:1px solid rgba(255,255,255,.08); border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden; position:relative; z-index:2}
    .panel.inner{ padding:22px }
    .panel.full{ grid-column: 1 / -1 }
    .title{ font-size:32px; line-height:1.2; margin:0 0 10px 0; font-weight:700; font-family:'Digiface', sans-serif }
    .subtitle{ color:var(--muted); margin:0 0 14px 0 }
    .badges{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}
    .badge{ background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.1); padding:8px 12px; border-radius:999px; display:inline-flex; align-items:center; gap:8px; font-size:13px}
    .badge::before{ content:""; width:6px; height:6px; border-radius:3px; background:var(--primary); box-shadow:0 0 10px rgba(168,85,247,.9)}
    .section-title{ font-size:18px; font-weight:600; margin:0 0 12px 0; color:var(--text); font-family:'Digiface', sans-serif }
    .text-block{ line-height:1.6; color:var(--muted); margin:8px 0; font-size:17px }

    .avatar{
      position:sticky; top:100px; height:fit-content; min-height:850px; display:flex; align-items:flex-start; justify-content:center;
      background:transparent; border:none; box-shadow:none; padding-top:40px; align-self:start;
    }
    .avatar img{
      max-width:100%; max-height:100%; object-fit:contain;
      filter:drop-shadow(0 0 20px rgba(168,85,247,.8)) 
             drop-shadow(0 0 40px rgba(59,183,255,.6))
             drop-shadow(0 0 60px rgba(168,85,247,.4));
      animation:neon-glow-img 2s ease-in-out infinite;
    }
    @keyframes neon-glow-img{
      0%, 100%{ 
        filter:drop-shadow(0 0 20px rgba(168,85,247,.6)) 
               drop-shadow(0 0 40px rgba(59,183,255,.4))
               drop-shadow(0 0 60px rgba(168,85,247,.2));
      }
      50%{ 
        filter:drop-shadow(0 0 30px rgba(168,85,247,.9)) 
               drop-shadow(0 0 60px rgba(59,183,255,.7))
               drop-shadow(0 0 90px rgba(168,85,247,.5));
      }
    }

    /* ---------- Sections ---------- */
    section{margin-top:28px}
    .section-header{display:flex; align-items:center; justify-content:space-between; margin-bottom:18px}
    .refresh-btn{
      background:linear-gradient(135deg, var(--primary), var(--primary-2));
      color:white; border:none; padding:10px 20px; border-radius:12px; cursor:pointer;
      font-size:14px; font-weight:600; display:flex; align-items:center; gap:8px;
      transition:all .3s ease; box-shadow:0 4px 12px rgba(168,85,247,.3);
      font-family:'Cornerita', sans-serif;
    }
    .refresh-btn:hover{transform:translateY(-2px); box-shadow:0 6px 18px rgba(168,85,247,.5)}
    .refresh-btn:active{transform:translateY(0); box-shadow:0 2px 8px rgba(168,85,247,.3)}
    .refresh-btn.loading{opacity:0.7; cursor:wait}
    .refresh-btn.loading .refresh-icon{animation:spin 1s linear infinite}
    @keyframes spin{from{transform:rotate(0deg)} to{transform:rotate(360deg)}}
    .stats-indicator{
      display:inline-block; width:8px; height:8px; border-radius:50%; 
      background:var(--ok); margin-left:10px; position:relative;
    }
    .stats-indicator.checking{animation:pulse-dot 2s ease infinite}
    .stats-indicator.updated{background:var(--primary); animation:flash 0.5s ease}
    @keyframes pulse-dot{
      0%, 100%{opacity:1; transform:scale(1)}
      50%{opacity:0.5; transform:scale(1.3)}
    }
    @keyframes flash{
      0%, 100%{opacity:1}
      50%{opacity:0.3; transform:scale(1.5)}
    }
    .cards{ display:grid; grid-template-columns: repeat(3, 1fr); gap:18px }
    .card{ background:rgba(28,32,43,0.6); backdrop-filter:blur(10px) saturate(1.2); border:1px solid rgba(255,255,255,.08); border-radius:16px; overflow:hidden; position:relative; cursor:pointer; text-decoration:none; display:block; color:var(--text); transition:all .3s ease}
    .card:hover{ box-shadow:0 14px 36px rgba(168,85,247,.12); transform:translateY(-4px); border-color:rgba(168,85,247,.3) }
    .card .thumb{ height:180px; background:linear-gradient(120deg, rgba(168,85,247,.25), rgba(59,183,255,.2)); background-size:cover; background-position:center; transition:transform .3s ease}
    .card:hover .thumb{ transform:scale(1.05)}
    .card .content{ padding:14px 16px }
    .pill{ font-size:12px; padding:4px 8px; border:1px solid rgba(255,255,255,.14); border-radius:999px; margin-right:8px; color:var(--muted)}
    .cta{ display:inline-block; margin-top:8px; padding:10px 14px; border-radius:12px; border:1px solid rgba(255,255,255,.14); background:linear-gradient(180deg, rgba(168,85,247,.16), rgba(255,255,255,.04)); color:var(--text); text-decoration:none }

    /* ---------- Dashboard (Services) ---------- */
    .service-item{
      background:rgba(28,32,43,0.7); backdrop-filter:blur(12px) saturate(1.2); 
      border:1px solid rgba(255,255,255,.08); border-radius:16px; 
      overflow:hidden; margin-bottom:18px; cursor:pointer; transition:all .3s ease;
    }
    .service-item:hover{ border-color:rgba(168,85,247,.3) }
    .service-header{
      display:flex; align-items:stretch; height:80px; position:relative; overflow:hidden;
    }
    .service-preview{
      width:200px; background:linear-gradient(135deg, var(--primary), var(--primary-2)); 
      position:relative; flex-shrink:0; transition:all .4s ease;
      clip-path:polygon(0 0, 100% 0, 85% 100%, 0 100%);
    }
    .service-preview img{ width:100%; height:100%; object-fit:cover; opacity:.7 }
    .service-title-wrap{
      flex:1; display:flex; align-items:center; padding:0 20px; justify-content:space-between;
    }
    .service-title{ font-size:20px; font-weight:600; margin:0; font-family:'Digiface', sans-serif }
    .service-status{ 
      display:flex; align-items:center; gap:8px; font-size:13px; color:var(--ok);
      padding:6px 12px; background:rgba(24,204,139,.1); border-radius:999px; border:1px solid rgba(24,204,139,.3);
    }
    .service-status::before{ content:"●"; font-size:16px; animation:pulse 2s ease infinite }
    @keyframes pulse{ 0%, 100%{ opacity:1 } 50%{ opacity:.4 }}
    
    .service-content{
      max-height:0; overflow:hidden; transition:max-height .4s ease, padding .4s ease;
    }
    .service-item.active .service-content{ max-height:500px; padding:20px }
    .service-item.active .service-preview{ width:0; opacity:0 }
    
    .grid-2{ display:grid; grid-template-columns: 1fr 1fr; gap:18px }
    .stat{ background:var(--glass); border:1px solid rgba(255,255,255,.08); border-radius:12px; padding:16px }
    .stat h4{ margin:0 0 6px 0; font-size:14px }
    .meter{ height:8px; background:rgba(255,255,255,.08); border-radius:999px; overflow:hidden; margin:8px 0 }
    .meter > span{ display:block; height:100%; background:linear-gradient(90deg, var(--primary), var(--primary-2)); box-shadow:0 0 16px rgba(168,85,247,.6) inset }

    /* ---------- Roadmap ---------- */
    .roadmap{ position:relative; padding-left:24px }
    .roadmap::before{ content:""; position:absolute; left:6px; top:0; bottom:0; width:2px; background:linear-gradient(var(--primary), transparent); opacity:.5 }
    .rm-item{ position:relative; margin:0 0 14px 0; padding:12px 14px; border-radius:12px; background:var(--glass); border:1px solid rgba(255,255,255,.08) }
    .rm-item::before{ content:""; position:absolute; left:-3px; top:16px; width:8px; height:8px; border-radius:50%; background:var(--primary); box-shadow:0 0 10px rgba(168,85,247,.8) }
    .rm-badge{ font-size:12px; padding:3px 8px; border-radius:999px; border:1px solid rgba(255,255,255,.14); margin-left:8px }
    .rm-done{ color:#b6f5d9; border-color:rgba(24,204,139,.4) }
    .rm-next{ color:#bfe6ff; border-color:rgba(59,183,255,.4) }
    .rm-idea{ color:#f8d1ff; border-color:rgba(168,85,247,.5) }

    /* ---------- Floating AI Assistant ---------- */
    .chat-fab{
      position:fixed; right:22px; bottom:22px; z-index:40;
      width:56px; height:56px; border-radius:50%; border:none; cursor:pointer;
      background:radial-gradient(circle at 30% 30%, rgba(255,255,255,.25), rgba(255,255,255,.08)),
                 linear-gradient(135deg, var(--primary), var(--primary-2));
      box-shadow:0 10px 28px rgba(0,0,0,.45), 0 0 24px rgba(168,85,247,.45);
      color:white; font-weight:700; font-size:18px;
    }
    .chat{
      position:fixed; right:22px; bottom:90px; z-index:40; width:340px;
      background:linear-gradient(180deg, rgba(20,24,35,.95), rgba(20,24,35,.85));
      border:1px solid rgba(255,255,255,.08); border-radius:18px; box-shadow:var(--shadow);
      display:none; overflow:hidden
    }
    .chat header{ position:static; background:transparent; border:none; padding:12px 14px }
    .chat-title{ font-family:Orbitron; font-size:14px; letter-spacing:.08em }
    .chat-log{ height:260px; overflow:auto; padding:12px; display:flex; flex-direction:column; gap:8px }
    .msg{ padding:10px 12px; border-radius:12px; max-width:78%; line-height:1.35 }
    .bot{ background:rgba(168,85,247,.12); border:1px solid rgba(168,85,247,.35) }
    .user{ align-self:flex-end; background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.14) }
    .chat-input{ display:flex; gap:8px; padding:10px; border-top:1px solid rgba(255,255,255,.06) }
    .chat-input input{ flex:1; padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.06); color:var(--text) }
    .chat-input button{ padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.14); background:linear-gradient(180deg, rgba(168,85,247,.3), rgba(255,255,255,.06)); color:var(--text); cursor:pointer }
    .chat-suggestions{ display:flex; gap:8px; padding:0 12px 12px 12px; flex-wrap:wrap }
    .chip{ font-size:12px; padding:6px 10px; border-radius:999px; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.14); cursor:pointer }

    /* ---------- System Boot Overlay ---------- */
    .boot{ position:fixed; inset:0; background:#04050a; z-index:100; display:flex; align-items:center; justify-content:center; color:#cfd8ff; flex-direction:column; gap:16px }
    .boot .terminal{ width:min(760px, 92vw); height:min(360px, 60vh); background:#0a0c12; border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:16px; box-shadow:0 0 40px rgba(59,183,255,.15) inset; font-family:monospace; overflow:hidden; white-space:pre-wrap }
    .boot .blink{ animation:blink 1s step-end infinite }
    @keyframes blink{ 50%{opacity:0} }
    .progress{ width:62%; height:8px; background:#141823; border-radius:999px; overflow:hidden; border:1px solid rgba(255,255,255,.12) }
    .progress span{ display:block; width:0%; height:100%; background:linear-gradient(90deg, var(--primary), var(--primary-2)); box-shadow:0 0 14px rgba(59,183,255,.4) }

    /* ---------- Responsive ---------- */
    
    /* Ultra-wide and 4K screens (2560px and above) */
    @media (min-width: 2560px) {
      .container{ max-width:1800px; padding:48px }
      .hero-main{ grid-template-columns: 1fr 1fr; grid-template-areas: "header avatar" "content avatar" }
      .hero-header{ grid-area:header }
      .avatar{ grid-area:avatar; min-height:1000px; align-self:start }
      .hero-content{ grid-area:content }
      .hero-title{ font-size:80px }
      .hero-subtitle{ font-size:32px }
      .section-title-main{ font-size:40px }
      .title{ font-size:40px }
      .card .thumb{ height:240px }
      .text-block, .quote-text{ font-size:20px }
      .skill-label, .skill-value{ font-size:20px }
      .soft-badge{ font-size:18px; padding:14px 24px }
      .cards{ grid-template-columns: repeat(3, 1fr); gap:24px }
      .edu-title{ font-size:22px }
      .edu-desc{ font-size:19px }
      .section-title{ font-size:22px }
    }
    
    /* Large monitors (1920px to 2559px) */
    @media (min-width: 1920px) and (max-width: 2559px) {
      .container{ max-width:1400px; padding:36px }
      .hero-main{ grid-template-columns: 1fr 1fr; grid-template-areas: "header avatar" "content avatar" }
      .hero-header{ grid-area:header }
      .avatar{ grid-area:avatar; min-height:900px; align-self:start }
      .hero-content{ grid-area:content }
      .hero-title{ font-size:72px }
      .hero-subtitle{ font-size:28px }
      .section-title-main{ font-size:36px }
      .card .thumb{ height:200px }
      .text-block, .quote-text{ font-size:19px }
      .skill-label, .skill-value{ font-size:19px }
      .cards{ grid-template-columns: repeat(3, 1fr); gap:20px }
      .edu-title{ font-size:21px }
      .edu-desc{ font-size:18px }
      .section-title{ font-size:20px }
    }
    
    /* Large tablets and laptops (1440px and below) */
    @media (max-width: 1440px) {
      .container{ max-width:1200px; padding:28px }
      .hero-title{ font-size:60px }
      .avatar{ min-height:750px }
    }
    
    /* Tablets and medium screens (1280px and below) */
    @media (max-width: 1280px) {
      .container{ max-width:100%; padding:24px }
      .cards{ grid-template-columns: repeat(2, 1fr) }
      .hero-title{ font-size:56px }
      .hero-subtitle{ font-size:22px }
      .avatar{ min-height:700px }
    }
    
    /* iPad Pro and similar (1024px and below) */
    @media (max-width: 1024px) {
      .container{ padding:22px }
      .hero-main{ grid-template-columns: 1fr 1fr; grid-template-areas: "header avatar" "content avatar" }
      .hero-header{ grid-area:header }
      .avatar{ grid-area:avatar; min-height:600px; margin-bottom:0; position:sticky; top:90px; align-self:start }
      .hero-content{ grid-area:content }
      .hero-title{ font-size:50px }
      .hero-subtitle{ font-size:21px }
      .section-title-main{ font-size:28px }
      .cards{ grid-template-columns: repeat(2, 1fr); gap:16px }
      
      /* Touch-friendly sizing */
      .tab-btn{ padding:8px 12px; font-size:14px; min-height:36px }
      .cta, .chip{ min-height:36px }
      .service-item{ cursor:pointer }
    }
    
    /* Small tablets (940px and below) */
    @media (max-width: 940px){
      body{ font-size:15px }
      .container{ padding:20px }
      
      /* Кнопка обновления */
      .section-header{ flex-direction:column; align-items:flex-start; gap:12px }
      .refresh-btn{ width:100%; justify-content:center }
      
      /* Header */
      .logo{ font-size:22px }
      .logo-mark{ width:22px; height:22px; margin-right:8px }
      .tab-btn{ font-size:12px; padding:5px 8px }
      .nav{ gap:8px }
      .tabs{ gap:3px }
      
      /* Hero section - mobile version */
      .hero-main{ display:flex; flex-direction:column }
      .hero-header{ order: 1; margin-bottom:8px }
      .avatar{ order: 2; height:auto; min-height:unset !important; position:relative; width:100%; margin:0 0 32px 0; padding:0 !important; display:block !important }
      .avatar img{ width:100%; height:auto; max-width:100%; object-fit:cover; border-radius:16px; display:block; animation:none !important }
      .hero-content{ order: 3; display:flex; flex-direction:column }
      
      /* Scroll animations visible by default on mobile */
      .scroll-section{ opacity:1 !important; transform:translateY(0) !important; transition:none !important }
      .scroll-section.visible{ opacity:1 !important; transform:translateY(0) !important }
      .scroll-section.hidden{ opacity:1 !important; transform:translateY(0) !important }
      .hero-grid{ grid-template-columns: 1fr }
      .hero-title{ font-size:44px }
      .hero-subtitle{ font-size:20px }
      .section-title-main{ font-size:26px }
      .section-title{ font-size:18px }
      
      /* Text sizes */
      .title{ font-size:26px }
      .quote-text{ font-size:16px }
      .text-block{ font-size:16px }
      .skill-label{ font-size:16px; min-width:auto }
      .skill-value{ font-size:16px }
      .edu-title{ font-size:18px }
      .edu-desc{ font-size:16px }
      .activity-item p{ font-size:16px }
      .interest-topics{ font-size:18px }
      .soft-badge{ font-size:15px }
      
      /* Cards */
      .cards{ grid-template-columns: 1fr 1fr; gap:14px }
      .card .thumb{ height:140px }
      
      /* Services */
      .service-header{ height:70px }
      .service-title{ font-size:18px }
      
      /* Skills */
      .skill-row{ flex-direction:column; gap:8px; align-items:flex-start }
      
      /* Roadmap */
      .grid-2{ grid-template-columns: 1fr }
    }
    
    /* Mobile landscape and small tablets (768px and below) */
    @media (max-width: 768px){
      .container{ padding:16px }
      
      /* Кнопка обновления - компактная */
      .refresh-btn{ padding:8px 16px; font-size:13px }
      .refresh-btn span:last-child{ display:none }
      .refresh-btn .refresh-icon{ font-size:18px; margin:0 }
      
      /* Header - make it more compact */
      header{ padding:3px 8px !important }
      .logo{ font-size:18px }
      .logo-mark{ width:20px; height:20px; margin-right:6px }
      .tab-btn{ font-size:11px; padding:4px 7px; border-radius:5px }
      .nav{ gap:6px }
      
      /* Hero - mobile version */
      .hero{ margin-top:16px; gap:20px }
      .hero-main{ display:flex; flex-direction:column }
      .hero-header{ order: 1; margin-bottom:6px }
      .avatar{ order: 2; height:auto; min-height:unset !important; position:relative; width:100%; margin:0 0 28px 0; padding:0 !important; display:block !important }
      .avatar img{ width:100%; height:auto; max-width:100%; object-fit:cover; border-radius:14px; display:block; animation:none !important }
      .hero-content{ order: 3; display:flex; flex-direction:column }
      
      /* Scroll animations visible by default on mobile */
      .scroll-section{ opacity:1 !important; transform:translateY(0) !important }
      .scroll-section.visible{ opacity:1 !important; transform:translateY(0) !important }
      .scroll-section.hidden{ opacity:1 !important; transform:translateY(0) !important }
      .hero-title{ font-size:36px }
      .hero-subtitle{ font-size:18px }
      .section-title-main{ font-size:22px }
      
      /* Cards - single column on mobile */
      .cards{ grid-template-columns: 1fr; gap:12px }
      
      /* Services */
      .service-preview{ min-width:100px }
      .service-title{ font-size:16px }
      .service-item.active .service-content{ max-height:400px; overflow-y:auto }
      .service-header{ flex-direction:row }
      
      /* Roadmap */
      .roadmap-item{ padding:14px }
      .roadmap-quarter{ font-size:13px }
      .roadmap-title{ font-size:17px }
      
      /* Energy pulses - reduce number on mobile */
      .signal-pulse{ width:15px; height:15px }
      .signal-pulse::before{ width:10px; height:10px }
      .signal-pulse::after{ width:15px; height:15px }
      
      /* Reduce blur for better performance */
      body::before{ filter:blur(40px) }
    }
    
    /* Mobile portrait (640px and below) */
    @media (max-width: 640px){
      body{ font-size:14px }
      .container{ padding:12px }
      
      /* Reduce animation intensity on mobile */
      .scroll-section{ transform:translateY(30px) }
      .scroll-section.hidden{ transform:translateY(-20px) }
      
      /* Header - mobile version */
      header{ padding:2px 5px !important }
      .logo{ font-size:16px }
      .logo-mark{ width:18px; height:18px; margin-right:5px }
      .tab-btn{ font-size:10px; padding:3px 6px }
      .nav{ gap:4px; flex-wrap:wrap }
      .tabs{ gap:2px }
      
      /* Hero - mobile version */
      .hero{ gap:16px; margin-top:12px }
      .hero-main{ display:flex; flex-direction:column }
      .hero-header{ order: 1; padding:0; margin-bottom:4px }
      .avatar{ order: 2; height:auto; min-height:unset !important; position:relative; width:100%; margin:0 0 24px 0; padding:0 !important; display:block !important }
      .avatar img{ width:100%; height:auto; max-width:100%; object-fit:cover; border-radius:12px; display:block; animation:none !important }
      .hero-content{ order: 3; display:flex; flex-direction:column }
      
      /* Scroll animations visible by default on mobile */
      .scroll-section{ opacity:1 !important; transform:translateY(0) !important; transition:none !important }
      .scroll-section.visible{ opacity:1 !important; transform:translateY(0) !important }
      .scroll-section.hidden{ opacity:1 !important; transform:translateY(0) !important }
      .hero-title{ font-size:28px; line-height:1.2 }
      .hero-subtitle{ font-size:16px }
      .section-title-main{ font-size:20px }
      .section-title{ font-size:16px }
      
      /* Text sizes */
      .title{ font-size:20px }
      .quote-text{ font-size:15px }
      .text-block{ font-size:15px }
      .skill-label{ font-size:15px }
      .skill-value{ font-size:15px }
      .edu-title{ font-size:17px }
      .edu-desc{ font-size:15px }
      .edu-extra{ font-size:14px }
      .activity-item p{ font-size:15px }
      .interest-topics{ font-size:17px }
      .interest-note{ font-size:15px }
      
      /* Badges and pills */
      .soft-badge{ padding:8px 14px; font-size:14px }
      .software-badges{ gap:8px }
      .pill{ font-size:11px; padding:3px 7px }
      
      /* Cards */
      .card .thumb{ height:120px }
      .card .content{ padding:12px 14px }
      .card h3{ font-size:18px }
      
      /* Services */
      .service-header{ height:auto; min-height:60px; flex-direction:row; align-items:center; flex-wrap:wrap }
      .service-preview{ min-width:80px; width:auto; height:60px }
      .service-item.active .service-preview{ width:0; height:0; min-width:0; padding:0 }
      .service-title-wrap{ padding:12px; flex:1 }
      .service-title{ font-size:15px }
      .service-status{ font-size:11px; padding:3px 8px }
      .service-item.active .service-content{ padding:12px; max-height:600px }
      
      /* Panels and spacing */
      .panel.inner{ padding:16px }
      .hero-grid{ gap:12px }
      .quote-box{ padding:16px 18px }
      .skill-panel{ padding:16px }
      
      /* Boot screen */
      .boot .terminal{ padding:12px; font-size:12px }
      .progress{ width:80% }
    }
    
    /* Very small mobile (480px and below) */
    @media (max-width: 480px){
      .container{ padding:10px }
      
      /* Header - ultra compact */
      .logo{ font-size:14px }
      .logo-mark{ width:16px; height:16px; margin-right:4px }
      .tab-btn{ font-size:9px; padding:3px 5px; border-radius:4px }
      
      /* Hero - mobile version */
      .hero{ gap:12px }
      .hero-main{ display:flex; flex-direction:column }
      .hero-header{ order: 1; margin-bottom:4px }
      .avatar{ order: 2; height:auto; min-height:unset !important; position:relative; width:100%; margin:0 0 20px 0; padding:0 !important; display:block !important }
      .avatar img{ width:100%; height:auto; max-width:100%; object-fit:cover; border-radius:10px; display:block; animation:none !important }
      .hero-content{ order: 3; display:flex; flex-direction:column }
      
      /* Scroll animations visible by default on mobile */
      .scroll-section{ opacity:1 !important; transform:translateY(0) !important; transition:none !important }
      .scroll-section.visible{ opacity:1 !important; transform:translateY(0) !important }
      .scroll-section.hidden{ opacity:1 !important; transform:translateY(0) !important }
      .hero-title{ font-size:24px }
      .hero-subtitle{ font-size:14px }
      .section-title-main{ font-size:18px }
      .section-title{ font-size:15px }
      .hero-grid{ gap:10px }
      
      /* Text */
      .title{ font-size:18px }
      .quote-text, .text-block{ font-size:14px; line-height:1.5 }
      .skill-label, .skill-value{ font-size:14px }
      .edu-title{ font-size:16px }
      .soft-badge{ padding:7px 12px; font-size:13px }
      .software-badges{ gap:6px }
      
      /* Services */
      .service-title{ font-size:14px }
      .service-status{ font-size:10px; padding:2px 6px }
      .service-item{ margin-bottom:12px }
      .service-header{ min-height:50px }
      .service-preview{ min-width:60px; height:50px }
      .service-title-wrap{ padding:10px }
      .service-item.active .service-content{ max-height:500px; padding:10px }
      
      /* Panels */
      .panel.inner{ padding:14px }
      .quote-box{ padding:14px 16px }
      .skill-panel{ padding:14px }
      
      /* Cards */
      .card .thumb{ height:100px }
      .card .content{ padding:10px 12px }
      
      /* Reduce energy pulses size */
      .signal-pulse{ width:12px; height:12px }
      .signal-pulse::before{ width:8px; height:8px }
      .signal-pulse::after{ width:12px; height:12px }
      .energy-trail{ display:none } /* Hide trails on very small screens for performance */
      
      /* Scanlines - reduce on very small screens */
      body::after{ opacity:0.3 }
      
      /* Improve touch targets */
      .tab-btn, .cta, .chip, .soft-badge{ min-height:32px; display:inline-flex; align-items:center; justify-content:center }
    }
    
    /* Mobile landscape optimization */
    @media (max-width: 940px) and (orientation: landscape) {
      .hero-main{ display:grid; grid-template-columns: 1fr 0.8fr; grid-template-areas: "header avatar" "content avatar" }
      .hero-header{ grid-area:header }
      .avatar{ grid-area:avatar; min-height:300px; margin-bottom:0; position:sticky; top:70px; align-self:start }
      .hero-content{ grid-area:content }
      .hero-title{ font-size:32px }
      .hero-subtitle{ font-size:16px }
      .section-title-main{ font-size:20px }
      header{ padding:2px 8px !important }
    }
    
    /* Touch device optimizations */
    @media (hover: none) and (pointer: coarse) {
      /* Remove hover effects that don't work on touch */
      .card:hover{ transform:translateY(0) }
      .card .thumb{ transition:none }
      
      /* Make all interactive elements touch-friendly */
      button, a, .tab-btn, .service-item, .card, .cta, .chip{ -webkit-tap-highlight-color:rgba(168,85,247,0.2) }
      
      /* Increase button sizes for easier tapping */
      .tab-btn{ min-height:40px; padding:6px 10px }
      .cta{ min-height:44px; padding:12px 16px }
      
      /* Disable animations on very slow devices for better performance */
      @media (prefers-reduced-motion: reduce) {
        *, *::before, *::after{ animation-duration:0.01ms !important; animation-iteration-count:1 !important; transition-duration:0.01ms !important }
      }
    }
    
    /* Prevent horizontal scroll on all devices */
    html, body{ overflow-x:hidden; max-width:100vw }
  </style>
</head>
<body>
  <!-- System Boot Overlay -->
  <div class="boot" id="boot">
    <div class="terminal" id="term"></div>
    <div class="progress"><span id="bar"></span></div>
    <div>Launching Grush-in//project<span class="blink">_</span></div>
  </div>

  <!-- Header / Nav -->
  <header>
    <div class="container nav">
      <div class="logo"><img src="images/icon.png" class="logo-mark" alt="Grush icon">Grush-in//project</div>
      <div class="spacer"></div>
      <div class="tabs">
        <button class="tab-btn active" data-tab="about">Обо мне</button>
        <button class="tab-btn" data-tab="projects">Pet‑проекты</button>
        <button class="tab-btn" data-tab="services">Сервисы</button>
        <button class="tab-btn" data-tab="roadmap">Roadmap</button>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- Hero -->
    <div class="hero" id="about">
      <div class="hero-main">
        <!-- Заголовок (всегда видим) -->
        <div class="hero-header">
          <h1 class="hero-title">Кирилл <span style="color:var(--primary)">Grush</span>kin</h1>
          <p class="hero-subtitle">Mobile App & AI Developer</p>
        </div>

        <!-- Аватар/Фото -->
        <div class="avatar" aria-label="avatar">
          <img src="images/me.png" alt="Кирилл" />
        </div>

        <!-- Left Content -->
        <div class="hero-content">
          <!-- Hard Skills (всегда видим первым) -->
          <div class="scroll-section visible">
            <h2 class="section-title-main">💻 Hard Skills</h2>
            <div class="panel inner skill-panel">
              <div class="skill-row">
                <span class="skill-label">Языки и фреймворки</span>
                <span class="skill-value">Python · Dart · Flutter · FastAPI</span>
              </div>
              <div class="skill-row">
                <span class="skill-label">Data & AI</span>
                <span class="skill-value">Pandas · OpenCV · MicroPython</span>
              </div>
              <div class="skill-row">
                <span class="skill-label">Базы данных</span>
                <span class="skill-value">PostgreSQL</span>
              </div>
              <div class="skill-row">
                <span class="skill-label">Инженерия</span>
                <span class="skill-value">CAD-системы (Компас-3D · Fusion 360)</span>
              </div>
              <div class="skill-row">
                <span class="skill-label">Тестирование</span>
                <span class="skill-value">Теория тестирования</span>
              </div>
            </div>
          </div>

          <!-- Цитата -->
          <div class="scroll-section">
            <div class="quote-box">
              <p class="quote-text">
                "Привет! Я  Кирилл — разработчик, который любит собирать сервисы, приложения и изучать AI-инструменты."
              </p>
            </div>
            <p class="text-block" style="margin-top:20px">
              Комбинирую инженерное мышление с подходами анализа данных и автоматизации процессов. 
              Разрабатываю мобильные приложения, API-сервисы и визуальные решения с использованием 
              машинного зрения и анализа данных.
            </p>
          </div>

          <!-- Образование -->
          <div class="scroll-section">
            <h2 class="section-title-main">📚 Образование</h2>
      <div class="panel inner">
              <p class="edu-title">Томский Государственный Университет</p>
              <p class="edu-desc">Направление: Мехатроника и робототехника</p>
              <p class="edu-extra">📘 Доп. квалификация: Аналитик данных</p>
        </div>
      </div>

          <!-- Чем занимаюсь -->
          <div class="scroll-section">
            <h2 class="section-title-main">🚀 Чем занимаюсь</h2>
            <div class="activity-list">
              <div class="activity-item">
                <div class="activity-dot"></div>
                <p>Разработка Android/iOS-приложений</p>
              </div>
              <div class="activity-item">
                <div class="activity-dot"></div>
                <p>Создание Telegram-ботов и API-веб-сервисов</p>
              </div>
              <div class="activity-item">
                <div class="activity-dot"></div>
                <p>Проектирование аналитических панелей</p>
              </div>
              <div class="activity-item">
                <div class="activity-dot"></div>
                <p>Автоматизация задач на Python</p>
              </div>
            </div>
          </div>

          <!-- Что интересно -->
          <div class="scroll-section">
            <h2 class="section-title-main">✨ Что мне интересно</h2>
            <p class="interest-topics">Робототехника · Машинное зрение · AI-инструменты</p>
            <p class="interest-note">
              Люблю аккуратный код, минимализм в интерфейсах и момент, когда идея превращается в работающий продукт.
            </p>
          </div>

          <!-- Software -->
          <div class="scroll-section">
            <h2 class="section-title-main">🧰 Software</h2>
            <div class="software-badges">
              <span class="soft-badge">Flutter</span>
              <span class="soft-badge">Python</span>
              <span class="soft-badge">PostgreSQL</span>
              <span class="soft-badge">FastAPI</span>
              <span class="soft-badge">OpenCV</span>
              <span class="soft-badge">Postman</span>
              <span class="soft-badge">Fusion 360</span>
              <span class="soft-badge">Компас-3D</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Projects -->
    <section id="projects" style="display:none">
      <h2>Pet‑проекты</h2>
      <div id="projectsFilters" class="badges" style="margin-bottom:12px; display:none"></div>
      <div id="projectsGrid" class="cards"></div>
      <div id="projectsEmpty" class="subtitle" style="display:none; margin-top:8px">Проекты не найдены. Проверь имя пользователя GitHub.</div>
    </section>

    <!-- Services Dashboard -->
    <section id="services" style="display:none">
      <div class="section-header">
        <h2 style="margin:0">
          Рабочие сервисы
          <span class="stats-indicator" id="statsIndicator" title="Автообновление активно"></span>
        </h2>
        <button class="refresh-btn" id="refreshStatsBtn" onclick="manualRefreshStats()">
          <span class="refresh-icon">🔄</span>
          <span>Обновить статистику</span>
        </button>
      </div>
      
      <!-- VPN Service -->
      <div class="service-item" onclick="toggleService(this)">
        <div class="service-header">
          <div class="service-preview">
            <div style="width:100%; height:100%; background:linear-gradient(135deg, #4ade80, #22c55e); display:flex; align-items:center; justify-content:center; font-size:32px; font-weight:700; color:white;">VPN</div>
          </div>
          <div class="service-title-wrap">
            <h3 class="service-title">VPN Service</h3>
            <span class="service-status" id="vpn-status">
              <span id="vpn-status-text">Загрузка...</span>
            </span>
          </div>
        </div>
        <div class="service-content">
          <div class="grid-2">
            <div class="stat">
              <h4>👥 Пользователи онлайн</h4>
              <div style="font-size:28px; font-weight:700; margin:8px 0; color:var(--ok)" id="vpn-online-users">-</div>
              <div class="meter"><span style="width:0%" id="vpn-online-meter"></span></div>
              <p style="margin-top:8px; font-size:14px; color:var(--muted)">Всего пользователей: <span id="vpn-total-users">-</span></p>
            </div>
            <div class="stat">
              <h4>🔑 Активные подписки</h4>
              <div style="font-size:28px; font-weight:700; margin:8px 0; color:var(--primary)" id="vpn-active-keys">-</div>
              <div class="meter"><span style="width:0%" id="vpn-keys-meter"></span></div>
              <p style="margin-top:8px; font-size:14px; color:var(--muted)">Новых сегодня: <span id="vpn-new-users">-</span></p>
            </div>
            <div class="stat">
              <h4>💰 Выручка сегодня</h4>
              <div style="font-size:28px; font-weight:700; margin:8px 0; color:var(--primary-2)" id="vpn-revenue">-</div>
              <div class="meter"><span style="width:0%" id="vpn-revenue-meter"></span></div>
              <p style="margin-top:8px; font-size:14px; color:var(--muted)">Транзакций: <span id="vpn-transactions">-</span></p>
            </div>
            <div class="stat">
              <h4>📊 Состояние системы</h4>
              <p style="margin:6px 0"><span style="color:var(--ok)">●</span> VPN Gateway — OK</p>
              <p style="margin:6px 0"><span style="color:var(--ok)">●</span> Auth Server — OK</p>
              <p style="margin:6px 0"><span style="color:var(--ok)">●</span> Database — OK</p>
              <p style="margin-top:12px; font-size:12px; color:var(--muted)">Обновлено: <span id="vpn-last-update">никогда</span></p>
            </div>
          </div>
        </div>
      </div>

      <!-- Telegram Bot -->
      <div class="service-item" onclick="toggleService(this)">
        <div class="service-header">
          <div class="service-preview">
            <div style="width:100%; height:100%; background:linear-gradient(135deg, #3b82f6, #2563eb); display:flex; align-items:center; justify-content:center; font-size:32px; font-weight:700; color:white;">BOT</div>
          </div>
          <div class="service-title-wrap">
            <h3 class="service-title">Telegram Bot</h3>
            <span class="service-status">Online</span>
          </div>
        </div>
        <div class="service-content">
          <div class="grid-2">
            <div class="stat">
              <h4>Подписки (Monthly)</h4>
              <div style="font-size:28px; font-weight:700; margin:8px 0; color:var(--ok)">₽ 6 500</div>
          <div class="meter"><span style="width:40%"></span></div>
        </div>
        <div class="stat">
              <h4>Состояние API</h4>
              <p style="margin:6px 0"><span style="color:var(--ok)">●</span> Telegram API — OK</p>
              <p style="margin:6px 0"><span style="color:var(--ok)">●</span> Payment Gateway — OK</p>
              <p style="margin:6px 0"><span style="color:var(--danger)">●</span> Billing — Лимиты</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Analytics Dashboard -->
      <div class="service-item" onclick="toggleService(this)">
        <div class="service-header">
          <div class="service-preview">
            <div style="width:100%; height:100%; background:linear-gradient(135deg, #a855f7, #9333ea); display:flex; align-items:center; justify-content:center; font-size:32px; font-weight:700; color:white;">📊</div>
          </div>
          <div class="service-title-wrap">
            <h3 class="service-title">Analytics Dashboard</h3>
            <span class="service-status">Online</span>
          </div>
        </div>
        <div class="service-content">
          <div class="grid-2">
            <div class="stat">
              <h4>Обработано данных (сегодня)</h4>
              <div style="font-size:28px; font-weight:700; margin:8px 0; color:var(--primary)">2.4 GB</div>
              <div class="meter"><span style="width:55%"></span></div>
        </div>
        <div class="stat">
          <h4>Состояние API</h4>
              <p style="margin:6px 0"><span style="color:var(--ok)">●</span> FastAPI — OK</p>
              <p style="margin:6px 0"><span style="color:var(--ok)">●</span> PostgreSQL — OK</p>
              <p style="margin:6px 0"><span style="color:var(--ok)">●</span> Redis — OK</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Roadmap -->
    <section id="roadmap" style="display:none">
      <h2>Roadmap</h2>
      <div class="roadmap">
        <div class="rm-item"><strong>v0.1</strong> — Одностраничный лендинг <span class="rm-badge rm-done">готово</span><br/><span class="subtitle">Структура, базовый стиль, загрузчик.</span></div>
        <div class="rm-item"><strong>v0.2</strong> — Подключение данных к сервисам <span class="rm-badge rm-next">в работе</span><br/><span class="subtitle">REST/WebSocket, простые графики.</span></div>
        <div class="rm-item"><strong>v0.3</strong> — SEO и публикации <span class="rm-badge rm-idea">идея</span><br/><span class="subtitle">Страница поста, поиск, OpenGraph.</span></div>
        <div class="rm-item"><strong>v0.4</strong> — Темизация и i18n <span class="rm-badge rm-idea">идея</span><br/><span class="subtitle">Светлая/тёмная, RU/EN переключатели.</span></div>
      </div>
    </section>
  </main>

  <!-- Floating AI Assistant -->
  <button class="chat-fab" id="chatFab">✦</button>
  <div class="chat" id="chatBox" aria-live="polite">
    <header>
      <div class="chat-title">Grush-in//AI — портфолио‑помощник</div>
    </header>
    <div class="chat-suggestions" id="chatSugg">
      <span class="chip" data-q="Расскажи о тебе">Расскажи о тебе</span>
      <span class="chip" data-q="Покажи pet‑проекты">Покажи pet‑проекты</span>
      <span class="chip" data-q="Как связаться?">Как связаться?</span>
    </div>
    <div class="chat-log" id="chatLog"></div>
    <div class="chat-input">
      <input id="chatInput" placeholder="Спроси: что я делаю?" />
      <button id="chatSend">Отправить</button>
    </div>
  </div>

  <script>
    /* ---------- Tabs ---------- */
    const tabs = document.querySelectorAll('.tab-btn');
    const sections = ['about','projects','services','roadmap'].map(id=>document.getElementById(id));
    tabs.forEach(btn=>btn.addEventListener('click',()=>{
      tabs.forEach(b=>b.classList.remove('active')); btn.classList.add('active');
      sections.forEach(s=>s.style.display='none');
      const target = document.getElementById(btn.dataset.tab);
      target.style.display='block';
      window.scrollTo({top:0, behavior:'smooth'});
      if(btn.dataset.tab==='projects') ensureProjectsLoaded();
    }));

    /* ---------- Toggle Service Accordion ---------- */
    function toggleService(element){
      const wasActive = element.classList.contains('active');
      // Закрываем все сервисы
      document.querySelectorAll('.service-item').forEach(item=> item.classList.remove('active'));
      // Открываем текущий, если он был закрыт
      if(!wasActive) element.classList.add('active');
    }

    /* ---------- GitHub Projects ---------- */
    const GITHUB_USER = 'Grush-in';                 // ← твой GitHub логин
    const ALLOWLIST = null; // например: ['vpn-bot','image-lab']; // ← оставь null чтобы показывать все public-репозитории

    let projectsLoaded = false;
    async function ensureProjectsLoaded(){ if(!projectsLoaded){ await loadProjects(); projectsLoaded = true; } }

    async function loadProjects(){
      const grid = document.getElementById('projectsGrid');
      const empty = document.getElementById('projectsEmpty');
      const filters = document.getElementById('projectsFilters');

      grid.innerHTML = '';
      grid.insertAdjacentHTML('beforeend', '<div class="subtitle">Загружаю проекты…</div>');
      try{
        const res = await fetch(`https://api.github.com/users/${GITHUB_USER}/repos?per_page=100&sort=updated`);
        const data = await res.json();
        let repos = Array.isArray(data) ? data : [];
        if(ALLOWLIST && Array.isArray(ALLOWLIST)){
          repos = repos.filter(r=> ALLOWLIST.includes(r.name));
        }
        // Фильтрация: прячем форки/архивные
        repos = repos.filter(r=> !r.fork && !r.archived);
        // Сортировка по звёздам и активности
        repos.sort((a,b)=> (b.stargazers_count - a.stargazers_count) || (new Date(b.pushed_at) - new Date(a.pushed_at)) );

        if(repos.length===0){ grid.innerHTML=''; empty.style.display='block'; return; }

        // Теги из языков
        const langs = [...new Set(repos.map(r=>r.language).filter(Boolean))];
        if(langs.length){
          filters.style.display='flex';
          filters.innerHTML = '<span class="pill">Все</span>' + langs.map(l=>`<span class="pill" data-lang="${l}">${l}</span>`).join('');
          filters.addEventListener('click', (e)=>{
            const p = e.target.closest('.pill'); if(!p) return;
            const lang = p.dataset.lang || 'all';
            render(repos, lang);
          });
        }
        render(repos, 'all');

        async function render(items, lang){
          grid.innerHTML='';
          const filtered = items.filter(r=> lang==='all' || r.language===lang);
          
          for(const r of filtered) {
            const desc = r.description ? r.description : 'Описание не добавлено';
            const url = r.homepage && r.homepage.startsWith('http') ? r.homepage : r.html_url;
            const badge = r.homepage && r.homepage.startsWith('http') ? '<span class="pill">🌐 Демо</span>' : '';
            
            // GitHub Social Preview (OpenGraph image)
            const socialPreview = `https://opengraph.githubassets.com/1/${r.owner.login}/${r.name}`;
            
            // Создаем карточку с градиентом по умолчанию
            const cardId = `card-${r.id}`;
            grid.insertAdjacentHTML('beforeend', `
              <a class="card" href="${url}" target="_blank" rel="noreferrer">
                <div class="thumb" id="${cardId}" style="background: linear-gradient(120deg, rgba(168,85,247,.4), rgba(59,183,255,.35))"></div>
                <div class="content">
                  <div><span class="pill">${r.language || 'Misc'}</span><span class="pill">★ ${r.stargazers_count}</span>${badge}</div>
                  <h3>${r.name}</h3>
                  <p class="subtitle">${desc}</p>
                </div>
              </a>
            `);
            
            // Пытаемся загрузить изображение
            const img = new Image();
            img.onload = () => {
              const thumb = document.getElementById(cardId);
              if(thumb) {
                thumb.style.background = `linear-gradient(120deg, rgba(168,85,247,.3), rgba(59,183,255,.25)), url('${socialPreview}') center/cover no-repeat`;
              }
            };
            img.src = socialPreview;
          }
        }
      }catch(e){ grid.innerHTML=''; empty.style.display='block'; console.error(e); }
    }

    /* ---------- Placeholder SVG line chart ---------- */
    const chart = document.getElementById('chart');
    if(chart){
    const w = chart.clientWidth, h = chart.clientHeight;
    const svgNS = 'http://www.w3.org/2000/svg';
    const svg = document.createElementNS(svgNS, 'svg');
    svg.setAttribute('width', w); svg.setAttribute('height', h);
    const path = document.createElementNS(svgNS, 'path');
    const pts = Array.from({length:18}, (_,i)=>({x: i/(18-1)*w, y: h*0.6 - Math.sin(i*0.6 + 1.2)*h*0.25 - (i%5?0:14)}));
    const d = 'M'+pts.map((p,i)=> (i? 'L':'') + p.x.toFixed(1)+','+p.y.toFixed(1)).join(' ');
    path.setAttribute('d', d);
    path.setAttribute('fill','none');
    path.setAttribute('stroke','url(#g)');
    path.setAttribute('stroke-width','2');
    const defs = document.createElementNS(svgNS,'defs');
    const grad = document.createElementNS(svgNS,'linearGradient');
    grad.id='g'; grad.setAttribute('x1','0%'); grad.setAttribute('x2','100%'); grad.setAttribute('y1','0%'); grad.setAttribute('y2','0%');
    const s1=document.createElementNS(svgNS,'stop'); s1.setAttribute('offset','0%'); s1.setAttribute('stop-color','var(--primary)');
    const s2=document.createElementNS(svgNS,'stop'); s2.setAttribute('offset','100%'); s2.setAttribute('stop-color','var(--primary-2)');
    grad.appendChild(s1); grad.appendChild(s2); defs.appendChild(grad);
    svg.appendChild(defs); svg.appendChild(path); chart.appendChild(svg);
    }

    /* ---------- Chat Assistant (rule-based demo) ---------- */
    const fab = document.getElementById('chatFab');
    const box = document.getElementById('chatBox');
    const log = document.getElementById('chatLog');
    const input = document.getElementById('chatInput');
    const send = document.getElementById('chatSend');
    const sugg = document.getElementById('chatSugg');

    const addMsg = (text, who='bot') => {
      const div=document.createElement('div'); div.className='msg '+who; div.textContent=text; log.appendChild(div); log.scrollTop=log.scrollHeight;
    };
    const botReply = (q) => {
      q = (q||'').toLowerCase();
      if(q.includes('связ')||q.includes('contact')) return 'Связаться: Telegram @yourhandle • email@domain.dev • GitHub github.com/yourname';
      if(q.includes('проект')||q.includes('pet')) return 'Открой вкладку «Pet‑проекты». Там карточки и ссылки на репозитории.';
      if(q.includes('кто')||q.includes('о тебе')||q.includes('about')) return 'Я Кирилл: Python/Dart, делаю ботов и панели, люблю CV и FastAPI.';
      if(q.includes('стек')||q.includes('stack')) return 'Стек: Python, FastAPI, PostgreSQL, Redis, Dart/Flutter, OpenCV, Docker, Nginx.';
      return 'Я пока простой виджет. Задай вопрос про меня, проекты или как связаться. 🙂';
    };

    fab.addEventListener('click', ()=>{ box.style.display = (box.style.display==='block') ? 'none' : 'block'; });
    send.addEventListener('click', ()=>{
      const v=input.value.trim(); if(!v) return; addMsg(v,'user'); addMsg(botReply(v),'bot'); input.value=''; input.focus();
    });
    input.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ send.click(); }});
    sugg.addEventListener('click', (e)=>{ const t=e.target.closest('.chip'); if(!t) return; input.value=t.dataset.q; send.click(); });

    /* ---------- System Boot Animation ---------- */
    const boot = document.getElementById('boot');
    const term = document.getElementById('term');
    const bar = document.getElementById('bar');

    const lines = [
      '[BOOT] Initializing core modules... OK',
      '[BOOT] Loading UI skin: Grush-in//project',
      '[NET ] Checking endpoints: api/v1 • ws... OK',
      '[DB  ] Connecting: redis://cache • postgres://db... OK',
      '[AUTH] Tokens: refreshed',
      '[I18N] Locale set: ru-RU',
      '[READY] Launching portfolio...'
    ];

    let i=0; let p=0;
    const write = () => {
      if(i < lines.length){
        term.textContent += lines[i] + '\n';
        i++; p += Math.floor(100/lines.length);
        bar.style.width = Math.min(p, 100) + '%';
        setTimeout(write, 80);
      } else {
        bar.style.width = '100%';
        setTimeout(()=>{ boot.style.opacity='1'; boot.style.transition='opacity .3s ease'; boot.style.opacity='0'; setTimeout(()=>boot.remove(), 300); }, 100);
      }
    };
    
    // Запуск анимации
    if(document.readyState === 'loading'){
      document.addEventListener('DOMContentLoaded', write);
    } else {
      write();
    }
    
    // Защита от зависания - принудительное скрытие через 3 секунды
    setTimeout(()=>{
      if(boot && boot.parentElement){
        boot.style.transition='opacity .3s ease';
        boot.style.opacity='0';
        setTimeout(()=>boot.remove(), 300);
      }
    }, 3000);

    /* ---------- Scroll Animations ---------- */
    const observerOptions = {
      root: null,
      rootMargin: '-100px 0px -100px 0px',
      threshold: 0.3
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          entry.target.classList.remove('hidden');
        } else if (entry.boundingClientRect.top < 0) {
          // Секция прошла вверх за экран
          entry.target.classList.remove('visible');
          entry.target.classList.add('hidden');
        }
      });
    }, observerOptions);

    // Наблюдаем за всеми scroll-секциями
    document.addEventListener('DOMContentLoaded', () => {
      const sections = document.querySelectorAll('.scroll-section');
      sections.forEach(section => observer.observe(section));
    });

    // Header scroll animation
    let lastScrollTop = 0;
    let scrollTimeout;
    const header = document.querySelector('header');
    
    window.addEventListener('scroll', () => {
      clearTimeout(scrollTimeout);
      
      scrollTimeout = setTimeout(() => {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        if (scrollTop > lastScrollTop && scrollTop > 100) {
          // Скролл вниз
          header.classList.add('hidden');
        } else {
          // Скролл вверх
          header.classList.remove('hidden');
        }
        
        lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
      }, 50);
    });

    // Energy Pulse Animation System - adaptive to screen size
    const isMobile = window.innerWidth <= 768;
    const isVerySmall = window.innerWidth <= 480;
    const NUM_PULSES = isVerySmall ? 5 : (isMobile ? 8 : 15); // Fewer pulses on mobile
    const PULSE_SPEED = 150; // Base speed (px per second)
    const TRAIL_INTERVAL = isMobile ? 50 : 30; // Less frequent trails on mobile
    
    class EnergyPulse {
      constructor() {
        this.element = document.createElement('div');
        this.color = Math.random() > 0.5 ? 'purple' : 'blue';
        this.element.className = 'signal-pulse ' + this.color;
        document.body.appendChild(this.element);
        
        // Random starting position
        this.x = Math.random() * window.innerWidth;
        this.y = Math.random() * window.innerHeight;
        
        // Random velocity (angle-based movement)
        const angle = Math.random() * Math.PI * 2;
        this.speed = PULSE_SPEED * (0.7 + Math.random() * 0.6);
        this.vx = Math.cos(angle) * this.speed;
        this.vy = Math.sin(angle) * this.speed;
        
        // Trail tracking
        this.lastTrailTime = 0;
        this.trailCounter = 0;
        
        // Random drift for organic movement
        this.driftAngle = Math.random() * Math.PI * 2;
        this.driftSpeed = 0.5 + Math.random();
        
        this.updatePosition();
      }
      
      updatePosition() {
        this.element.style.left = (this.x - 10) + 'px';
        this.element.style.top = (this.y - 10) + 'px';
      }
      
      createTrail() {
        const trail = document.createElement('div');
        trail.className = 'energy-trail ' + this.color;
        trail.style.left = (this.x - 1.5) + 'px';
        trail.style.top = (this.y - 1.5) + 'px';
        document.body.appendChild(trail);
        
        // Remove trail after animation
        setTimeout(() => {
          if (trail.parentNode) {
            trail.parentNode.removeChild(trail);
          }
        }, 600);
      }
      
      move(deltaTime, currentTime) {
        // Apply drift for organic movement
        this.driftAngle += (Math.random() - 0.5) * 0.1;
        const driftX = Math.cos(this.driftAngle) * this.driftSpeed * deltaTime * 10;
        const driftY = Math.sin(this.driftAngle) * this.driftSpeed * deltaTime * 10;
        
        // Move pulse
        this.x += this.vx * deltaTime + driftX;
        this.y += this.vy * deltaTime + driftY;
        
        // Create energy trail
        if (currentTime - this.lastTrailTime > TRAIL_INTERVAL) {
          this.createTrail();
          this.lastTrailTime = currentTime;
          this.trailCounter++;
        }
        
        // Bounce off edges with slight randomization
        if (this.x < 0 || this.x > window.innerWidth) {
          this.vx = -this.vx * (0.9 + Math.random() * 0.2);
          this.x = Math.max(0, Math.min(this.x, window.innerWidth));
          this.driftAngle += (Math.random() - 0.5) * 0.5;
        }
        if (this.y < 0 || this.y > window.innerHeight) {
          this.vy = -this.vy * (0.9 + Math.random() * 0.2);
          this.y = Math.max(0, Math.min(this.y, window.innerHeight));
          this.driftAngle += (Math.random() - 0.5) * 0.5;
        }
        
        // Randomly change direction slightly
        if (Math.random() < 0.01) {
          const angle = Math.atan2(this.vy, this.vx) + (Math.random() - 0.5) * 0.8;
          const speed = Math.sqrt(this.vx * this.vx + this.vy * this.vy);
          this.vx = Math.cos(angle) * speed;
          this.vy = Math.sin(angle) * speed;
        }
        
        this.updatePosition();
      }
    }
    
    // Create energy pulses
    const pulses = [];
    for (let i = 0; i < NUM_PULSES; i++) {
      setTimeout(() => {
        pulses.push(new EnergyPulse());
      }, i * 100); // Stagger creation for nice effect
    }
    
    // Animation loop
    let lastTime = performance.now();
    function animatePulses(currentTime) {
      const deltaTime = (currentTime - lastTime) / 1000; // Convert to seconds
      lastTime = currentTime;
      
      pulses.forEach(pulse => pulse.move(deltaTime, currentTime));
      
      requestAnimationFrame(animatePulses);
    }
    
    // Start animation
    requestAnimationFrame(animatePulses);

    /* ---------- VPN Stats Integration ---------- */
    let lastStatsTimestamp = null;
    let statsCheckInterval = null;
    
    async function loadVPNStats(showNotification = false, isAutoCheck = false) {
      const indicator = document.getElementById('statsIndicator');
      
      try {
        // Показываем индикатор проверки
        if (isAutoCheck && indicator) {
          indicator.classList.add('checking');
        }
        
        const response = await fetch('stats.json?t=' + Date.now());
        const stats = await response.json();
        
        // Проверяем изменились ли данные
        const newTimestamp = stats.timestamp;
        const hasChanged = lastStatsTimestamp && newTimestamp !== lastStatsTimestamp;
        
        if (hasChanged && isAutoCheck) {
          // Данные обновились автоматически!
          showNotification = true;
          if (indicator) {
            indicator.classList.remove('checking');
            indicator.classList.add('updated');
            setTimeout(() => indicator.classList.remove('updated'), 500);
          }
        }
        
        lastStatsTimestamp = newTimestamp;
        
        // Обновляем статус
        const statusEl = document.getElementById('vpn-status-text');
        if (stats.online_users > 0 || stats.total_users > 0) {
          statusEl.textContent = 'Online';
          statusEl.parentElement.style.color = 'var(--ok)';
        } else {
          statusEl.textContent = 'Нет данных';
          statusEl.parentElement.style.color = 'var(--muted)';
        }
        
        // Обновляем пользователей онлайн
        document.getElementById('vpn-online-users').textContent = stats.online_users || 0;
        document.getElementById('vpn-total-users').textContent = stats.total_users || 0;
        
        // Обновляем метр онлайн пользователей (процент от общего)
        const onlinePercent = stats.total_users > 0 
          ? Math.min((stats.online_users / stats.total_users) * 100, 100)
          : 0;
        document.getElementById('vpn-online-meter').style.width = onlinePercent + '%';
        
        // Обновляем активные ключи
        document.getElementById('vpn-active-keys').textContent = stats.active_keys || 0;
        document.getElementById('vpn-new-users').textContent = stats.new_users_today || 0;
        
        // Обновляем метр ключей (процент от пользователей)
        const keysPercent = stats.total_users > 0 
          ? Math.min((stats.active_keys / stats.total_users) * 100, 100)
          : 0;
        document.getElementById('vpn-keys-meter').style.width = keysPercent + '%';
        
        // Обновляем выручку
        const revenue = stats.revenue_today || 0;
        document.getElementById('vpn-revenue').textContent = '₽' + revenue.toFixed(0);
        document.getElementById('vpn-transactions').textContent = stats.transactions_today || 0;
        
        // Обновляем метр выручки (относительно целевой суммы, например 10000₽)
        const TARGET_REVENUE = 10000;
        const revenuePercent = Math.min((revenue / TARGET_REVENUE) * 100, 100);
        document.getElementById('vpn-revenue-meter').style.width = revenuePercent + '%';
        
        // Обновляем время последнего обновления
        const timestamp = new Date(stats.timestamp || Date.now());
        const now = new Date();
        const diffMinutes = Math.floor((now - timestamp) / 60000);
        
        let timeText;
        if (diffMinutes < 1) {
          timeText = 'только что';
        } else if (diffMinutes < 60) {
          timeText = diffMinutes + ' мин назад';
        } else {
          const diffHours = Math.floor(diffMinutes / 60);
          timeText = diffHours + ' ч назад';
        }
        
        document.getElementById('vpn-last-update').textContent = timeText;
        
        console.log('✅ VPN статистика загружена:', stats);
        
        // Показываем уведомление если запрошено
        if (showNotification) {
          const message = hasChanged && isAutoCheck 
            ? '📊 Статистика обновлена автоматически!' 
            : '✓ Статистика обновлена!';
          showUpdateNotification(message, 'success');
        }
        
      } catch (error) {
        console.error('❌ Ошибка загрузки VPN статистики:', error);
        document.getElementById('vpn-status-text').textContent = 'Offline';
        document.getElementById('vpn-status-text').parentElement.style.color = 'var(--danger)';
        
        if (showNotification && !isAutoCheck) {
          showUpdateNotification('Ошибка загрузки статистики', 'error');
        }
      } finally {
        // Убираем индикатор проверки
        if (isAutoCheck && indicator) {
          indicator.classList.remove('checking');
        }
      }
    }

    // Ручное обновление статистики
    async function manualRefreshStats() {
      const btn = document.getElementById('refreshStatsBtn');
      const icon = btn.querySelector('.refresh-icon');
      
      // Блокируем кнопку
      btn.classList.add('loading');
      btn.disabled = true;
      
      try {
        await loadVPNStats(true);
      } finally {
        // Разблокируем кнопку через 1 секунду
        setTimeout(() => {
          btn.classList.remove('loading');
          btn.disabled = false;
        }, 1000);
      }
    }

    // Уведомления
    function showUpdateNotification(message, type = 'success') {
      // Создаем элемент уведомления
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 80px;
        right: 20px;
        background: ${type === 'success' ? 'linear-gradient(135deg, var(--ok), #22c55e)' : 'linear-gradient(135deg, var(--danger), #ef4444)'};
        color: white;
        padding: 16px 24px;
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        z-index: 1000;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 10px;
        animation: slideIn 0.3s ease;
        font-family: 'Cornerita', sans-serif;
      `;
      
      notification.innerHTML = `
        <span style="font-size:20px">${type === 'success' ? '✓' : '✕'}</span>
        <span>${message}</span>
      `;
      
      document.body.appendChild(notification);
      
      // Удаляем через 3 секунды
      setTimeout(() => {
        notification.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => notification.remove(), 300);
      }, 3000);
    }

    // Добавляем стили для анимации уведомлений
    const style = document.createElement('style');
    style.textContent = `
      @keyframes slideIn {
        from { transform: translateX(400px); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
      @keyframes slideOut {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(400px); opacity: 0; }
      }
    `;
    document.head.appendChild(style);

    // Запуск автоматической проверки обновлений
    function startStatsAutoUpdate() {
      // Первая загрузка
      loadVPNStats(false, false);
      
      // Проверяем обновления каждые 10 секунд
      if (statsCheckInterval) {
        clearInterval(statsCheckInterval);
      }
      
      statsCheckInterval = setInterval(() => {
        loadVPNStats(false, true); // isAutoCheck = true
      }, 10000); // 10 секунд
      
      console.log('🔄 Автообновление статистики запущено (каждые 10 секунд)');
    }

    // Остановка автообновления
    function stopStatsAutoUpdate() {
      if (statsCheckInterval) {
        clearInterval(statsCheckInterval);
        statsCheckInterval = null;
        console.log('⏸️  Автообновление статистики остановлено');
      }
    }

    // Запускаем автообновление при старте
    startStatsAutoUpdate();

    // Обновляем при переключении на вкладку Services
    const servicesTab = document.querySelector('[data-tab="services"]');
    if (servicesTab) {
      servicesTab.addEventListener('click', () => {
        setTimeout(() => loadVPNStats(false, false), 100);
      });
    }

    // Приостанавливаем проверку когда вкладка неактивна (экономим ресурсы)
    document.addEventListener('visibilitychange', () => {
      if (document.hidden) {
        // Вкладка скрыта - замедляем проверку
        if (statsCheckInterval) {
          clearInterval(statsCheckInterval);
          statsCheckInterval = setInterval(() => {
            loadVPNStats(false, true);
          }, 60000); // 1 минута когда вкладка неактивна
        }
      } else {
        // Вкладка активна - возобновляем частую проверку
        startStatsAutoUpdate();
      }
    });
  </script>
</body>
</html>
